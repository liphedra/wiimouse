/*!
 * \file util_delay.h
 *
 * \brief 
 *
 *
 * \date Apr 4, 2011
 * \author Dan Riedler
 *
 */

#ifndef _UTIL_DELAY_H_
#define _UTIL_DELAY_H_

/*-----------------------------------------------------------------------------
 Includes
------------------------------------------------------------------------------*/
#include "device.h"
#include "util/timer/util_timer.h"

#ifdef DEV_UTIL_DELAY


#ifndef DEV_UTIL_TIMER
#error The timer utility should be enabled to use the Delay Utility
#endif

/*-----------------------------------------------------------------------------
 Defines
------------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
 Macros
------------------------------------------------------------------------------*/
#define UTIL_DELAY(_timeout)                            \
{                                                       \
    UTIL_TIMER_Timer _timer;                            \
    _timer = UTIL_TIMER_Ticker + _timeout;              \
    while( UTIL_TIMER_Ticker -  _timer < 0 );           \
}


/*-----------------------------------------------------------------------------
 Typedefs
------------------------------------------------------------------------------*/


/*-----------------------------------------------------------------------------
 Exported Function Prototypes
------------------------------------------------------------------------------*/

/*-----------------------------------------------------------------------------
 External Data Members
------------------------------------------------------------------------------*/

#endif
#endif /* UTIL_DELAY_H_ */
